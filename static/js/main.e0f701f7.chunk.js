(this.webpackJsonpexp=this.webpackJsonpexp||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var i=n(4),r=n.n(i),o=n(34),c=n.n(o),s=n(9),a=n(11),u=n(12),d=n(15),j=r.a.createContext({isMovingForward:!1,isMovingBackward:!1,isTurningRight:!1,isTurningLeft:!1}),h=n(10),b=n(6);Object(d.b)({BirdControls:function(e,t){this.object=e,this.domElement=t,this.movementSpeed=1,this.lookSpeed=.005,this.panSpeed=0,this.moveForward=!1,this.moveBackward=!1,this.viewHalfX=0,this.viewHalfY=0;var n=0,i=0;this.domElement!==document&&this.domElement.setAttribute("tabindex",-1),this.setMoveForward=function(e){this.moveForward=e},this.setMoveBackward=function(e){this.moveBackward=e},this.setPanSpeed=function(e){this.panSpeed=e},this.handleResize=function(){this.domElement===document?(this.viewHalfX=window.innerWidth/2,this.viewHalfY=window.innerHeight/2):(this.viewHalfX=this.domElement.offsetWidth/2,this.viewHalfY=this.domElement.offsetHeight/2)},this.update=function(){var e=new h.Vector3;return function(t){var r=t*this.movementSpeed;(this.moveForward||this.autoForward&&!this.moveBackward)&&this.object.translateZ(-r),this.moveBackward&&this.object.translateZ(r);var o=t*this.lookSpeed;i-=this.panSpeed*o,n=Math.max(-85,Math.min(85,n));var c=h.MathUtils.degToRad(90-n),s=h.MathUtils.degToRad(i),a=this.object.position;e.setFromSphericalCoords(1,c,s).add(a),this.object.lookAt(e)}}(),this.handleResize()}});var f=function(e){var t=Object(i.useRef)(null),n=Object(d.d)().gl,r=Object(i.useContext)(j);return Object(d.c)((function(e,n){t&&t.current&&t.current.update(n)})),Object(i.useEffect)((function(){t&&t.current&&t.current.setMoveForward(r.isMovingForward)}),[r.isMovingForward]),Object(i.useEffect)((function(){t&&t.current&&t.current.setMoveBackward(r.isMovingBackward)}),[r.isMovingBackward]),Object(i.useEffect)((function(){t&&t.current&&(r.isTurningRight?t.current.setPanSpeed(500):t.current.setPanSpeed(0))}),[r.isTurningRight]),Object(i.useEffect)((function(){t&&t.current&&(r.isTurningLeft?t.current.setPanSpeed(-500):t.current.setPanSpeed(0))}),[r.isTurningLeft]),e.object&&e.object.current?Object(b.jsx)("birdControls",{args:[e.object.current,n.domElement],ref:t,movementSpeed:500,lookSpeed:.1}):Object(b.jsx)(b.Fragment,{})};function l(e){var t=Object(i.useRef)(null),n=Object(d.d)((function(e){return e.set})),r=Object(d.d)((function(e){return e.size})),o=Object(i.useRef)(null);return Object(i.useLayoutEffect)((function(){o.current&&(o.current.aspect=r.width/r.height,o.current.updateProjectionMatrix())}),[r]),Object(i.useLayoutEffect)((function(){o.current&&n({camera:o.current})}),[n,r.height,r.width]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("group",{ref:t,position:e.position,children:[Object(b.jsx)("group",{rotation:[-.3,0,0],children:Object(b.jsx)("perspectiveCamera",{ref:o})}),Object(b.jsx)("pointLight",{color:"white",intensity:1,distance:300,decay:2,castShadow:!1,position:[0,0,0]})]}),Object(b.jsx)(f,{object:t})]})}var g,O=n(13),v=n(17),w={mesh:"#ffffff",light:"#ffffff"},m={mesh:"#FF0500",light:"#FF0000"};function p(e){var t=Object(i.useState)(0),n=Object(s.a)(t,2),r=n[0],o=n[1],c=Object(i.useState)(0),a=Object(s.a)(c,2),u=a[0],d=a[1],j=Object(i.useState)(),f=Object(s.a)(j,2),l=f[0],g=f[1],O=Object(i.useState)(w),p=Object(s.a)(O,2),x=p[0],M=p[1],k=Object(i.useRef)(null),S=Object(i.useRef)(null),y=Object(i.useRef)(null),T=.8*e.height,I=Object(i.useCallback)((function(e){null!==e&&g(e)}),[]),F=Object(i.useMemo)((function(){var t=new v.a;return t.copy(e.position),t.add(new v.a(0,30,0)),t}),[e.position]),E=Object(i.useMemo)((function(){return new v.a(.15*r,.15*u,0)}),[u,r]),R=Object(i.useMemo)((function(){if(l){var t=(new h.Box3).setFromObject(l),n=t.max.y-t.min.y;return new v.a(0,-n/2+e.height-5,11)}}),[e.height,l]),B=Object(i.useMemo)((function(){var t=document.createElement("canvas").getContext("2d");if(!t)throw new Error("Could not create ctx");var n="".concat(100,"px AuvantGothicBold");t.font=n;var i=t.measureText(e.text).width+4;t.canvas.width=i,t.canvas.height=104,t.font=n,t.textBaseline="top",t.fillStyle="black",t.fillText(e.text,2,2),o(t.canvas.width),d(t.canvas.height);var r=new h.CanvasTexture(t.canvas);return r.minFilter=h.LinearFilter,r}),[e.text]);return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("pointLight",{ref:S,color:x.light,intensity:20,distance:60,decay:4,position:F,castShadow:!0,children:Object(b.jsx)("pointLight",{ref:k,color:x.light,intensity:1.2,distance:350,decay:3,position:[0,T-30,0],castShadow:!0,children:Object(b.jsxs)("group",{ref:y,position:[0,-T-10,0],children:[Object(b.jsxs)("mesh",{scale:[20,e.height,20],position:[0,e.height/2,0],onPointerOver:function(){M(m),document.body.style.cursor="pointer"},onClick:function(){M(m)},onPointerOut:function(){M(w),document.body.style.cursor=""},children:[Object(b.jsx)("meshStandardMaterial",{emissive:new h.Color(x.mesh),emissiveIntensity:1,color:"#000000"}),Object(b.jsx)("boxBufferGeometry",{args:[1,1,1]})]}),Object(b.jsxs)("mesh",{position:R,ref:I,scale:E,rotation:[0,0,-Math.PI/2],children:[Object(b.jsx)("meshBasicMaterial",{map:B,side:h.DoubleSide,transparent:!0}),Object(b.jsx)("planeGeometry",{args:[1,1]})]})]})})})})}function x(e){var t=Object(i.useState)(),n=Object(s.a)(t,2),r=n[0],o=n[1],c=Object(i.useState)(),a=Object(s.a)(c,2),u=a[0],d=a[1],j=function(e){var t=Object(i.useRef)(e);return Object(i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.999;function i(){var e=1e4*Math.sin(t.current);return t.current++,e-Math.floor(e)}var r=i();return Math.round(100*(r*(n-e)+e))/100}),[t])}(55),h=Object(i.useCallback)((function(e){null!==e&&o(e)}),[]),f=Object(i.useCallback)((function(e){null!==e&&d(e)}),[]),l=Object(i.useMemo)((function(){if(u&&u)return Object(b.jsx)(b.Fragment,{children:Object(O.a)(Array(e.numCuboids)).map((function(t,n){if([j()*e.size-e.size/2,0,j()*e.size-e.size/2])return Object(b.jsx)("mesh",{position:[j()*e.size-e.size/2,0,j()*e.size-e.size/2],scale:[20,160*j()+100,20],material:r,geometry:u,castShadow:!0,receiveShadow:!0},n)}))})}),[u,r,e.numCuboids,e.size,j]),g=Object(i.useMemo)((function(){return[new v.a(0,0,100),new v.a(115,0,-105),new v.a(-100,0,35)]}),[]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("ambientLight",{color:"white",intensity:.001}),Object(b.jsx)("meshStandardMaterial",{ref:h,attach:"material",color:"white"}),Object(b.jsx)("boxBufferGeometry",{ref:f,attach:"geometry",args:[1,1,1]}),l,Object(b.jsx)(p,{position:g[2],text:"THIRD",height:175}),Object(b.jsx)(p,{position:g[0],text:"FIRST",height:160}),Object(b.jsx)(p,{position:g[1],text:"SECOND",height:185}),Object(b.jsxs)("mesh",{position:[0,0,0],rotation:[-Math.PI/2,0,0],receiveShadow:!0,children:[Object(b.jsx)("planeBufferGeometry",{attach:"geometry",args:[e.size,e.size]}),Object(b.jsx)("meshStandardMaterial",{attach:"material",color:"white",flatShading:!0})]})]})}function M(){var e=Object(d.d)().gl;return Object(i.useEffect)((function(){e.shadowMap.enabled=!0,e.shadowMap.type=h.PCFSoftShadowMap,e.setPixelRatio(window.devicePixelRatio)}),[e]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(l,{position:[0,200,700]}),Object(b.jsx)(x,{numCuboids:170,size:1e3})]})}var k,S=Object(u.c)(d.a)(g||(g=Object(a.a)(["\n    canvas:focus {\n        outline: none;\n    }\n"])));function y(){var e=Object(i.useContext)(j);return Object(b.jsx)(S,{children:Object(b.jsx)(j.Provider,{value:e,children:Object(b.jsx)(M,{})})})}var T=Object(u.a)(k||(k=Object(a.a)(["\n    html,\n    body,\n    #root {\n      width: 100%;\n      height: 100%;\n      margin: 0;\n      padding: 0;\n    }\n\n    html {\n      box-sizing: border-box;\n    }\n    *, *:before, *:after {\n      box-sizing: inherit;\n    }\n"]))),I=r.a.createContext({setIsMovingForward:function(){},setIsMovingBackward:function(){},setIsTurningLeft:function(){},setIsTurningRight:function(){}});function F(e){var t=Object(i.useState)(!1),n=Object(s.a)(t,2),r=n[0],o=n[1],c=Object(i.useState)(!1),a=Object(s.a)(c,2),u=a[0],d=a[1],h=Object(i.useState)(!1),f=Object(s.a)(h,2),l=f[0],g=f[1],O=Object(i.useState)(!1),v=Object(s.a)(O,2),w=v[0],m=v[1],p=Object(i.useMemo)((function(){return{setIsMovingForward:o,setIsMovingBackward:d,setIsTurningLeft:g,setIsTurningRight:m}}),[]);return Object(b.jsx)(j.Provider,{value:{isMovingForward:r,isMovingBackward:u,isTurningLeft:l,isTurningRight:w},children:Object(b.jsx)(I.Provider,{value:p,children:e.children})})}var E,R,B,C,L,A,z,P,D,H=n.p+"static/media/arrow-white.fb6e3d97.svg",K=n.p+"static/media/arrow-white-pressed.acc87111.svg",U="50px",G=function(e){return Object(u.b)(E||(E=Object(a.a)(["\n    background-size: cover;\n    background-position: center;\n    background-repeat: no-repeat;\n    cursor: pointer;\n\n    background-image: url(",");\n    ","\n\n"])),H,e&&Object(u.b)(R||(R=Object(a.a)(["\n        background-image: url(",");\n    "])),K))},W=u.c.div(B||(B=Object(a.a)(["\n    grid-row: 1;\n    grid-column: 2;\n    ",";\n\n"])),(function(e){return G(e.isActive)})),X=u.c.div(C||(C=Object(a.a)(["\n    grid-row: 2;\n    grid-column: 1;\n    transform: rotate(-90deg);\n    ",";\n"])),(function(e){return G(e.isActive)})),Y=u.c.div(L||(L=Object(a.a)(["\n    grid-row: 2;\n    grid-column: 3;\n    transform: rotate(90deg);\n    ",";\n"])),(function(e){return G(e.isActive)})),J=u.c.div(A||(A=Object(a.a)(["\n    grid-row: 3;\n    grid-column: 2;\n    transform: rotate(180deg);\n    ",";\n"])),(function(e){return G(e.isActive)})),Z=u.c.div(z||(z=Object(a.a)(["\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    position: absolute;\n    flex-direction: column;\n\n    bottom: 0;\n    padding-bottom: calc("," / 2);\n    padding-right: calc("," / 2);\n    align-items: flex-end;\n\n\n    @media (min-width: 768px) {\n        align-items: center;\n        bottom: 8%;\n        right: unset;\n        padding-right: 0;\n        padding-bottom: 0;\n    }\n"])),U,U),N=u.c.div(P||(P=Object(a.a)(["\n    display: grid;\n    grid-template-columns: repeat(3, ",");\n    grid-template-rows: repeat(3, ",");\n    user-select: none;\n"])),U,U),V=u.c.div(D||(D=Object(a.a)(['\n    margin-top: 20px;\n    color: white;\n    font-family: "SourceCodePro", monospace;\n    display: none;\n    text-align: center;\n\n    @media (min-width: 768px) {\n        display: block;\n    }\n'])));function q(){var e=Object(i.useContext)(I),t=Object(i.useContext)(j);return Object(i.useEffect)((function(){function t(t){switch(t.code){case"ArrowUp":case"KeyW":e.setIsMovingForward(!0);break;case"ArrowLeft":case"KeyA":e.setIsTurningLeft(!0);break;case"ArrowDown":case"KeyS":e.setIsMovingBackward(!0);break;case"ArrowRight":case"KeyD":e.setIsTurningRight(!0)}}function n(t){switch(t.code){case"ArrowUp":case"KeyW":e.setIsMovingForward(!1);break;case"ArrowLeft":case"KeyA":e.setIsTurningLeft(!1);break;case"ArrowDown":case"KeyS":e.setIsMovingBackward(!1);break;case"ArrowRight":case"KeyD":e.setIsTurningRight(!1)}}return window.addEventListener("keydown",t),window.addEventListener("keyup",n),function(){window.removeEventListener("keydown",t),window.addEventListener("keyup",n)}}),[e]),Object(b.jsxs)(Z,{children:[Object(b.jsxs)(N,{children:[Object(b.jsx)(W,{isActive:t.isMovingForward,onMouseDown:function(){return e.setIsMovingForward(!0)},onTouchStart:function(){return e.setIsMovingForward(!0)},onMouseUp:function(){return e.setIsMovingForward(!1)},onTouchEnd:function(){return e.setIsMovingForward(!1)}}),Object(b.jsx)(J,{isActive:t.isMovingBackward,onMouseDown:function(){return e.setIsMovingBackward(!0)},onTouchStart:function(){return e.setIsMovingBackward(!0)},onMouseUp:function(){return e.setIsMovingBackward(!1)},onTouchEnd:function(){return e.setIsMovingBackward(!1)}}),Object(b.jsx)(X,{isActive:t.isTurningLeft,onMouseDown:function(){return e.setIsTurningLeft(!0)},onTouchStart:function(){return e.setIsTurningLeft(!0)},onMouseUp:function(){return e.setIsTurningLeft(!1)},onTouchEnd:function(){return e.setIsTurningLeft(!1)}}),Object(b.jsx)(Y,{isActive:t.isTurningRight,onMouseDown:function(){return e.setIsTurningRight(!0)},onTouchStart:function(){return e.setIsTurningRight(!0)},onMouseUp:function(){return e.setIsTurningRight(!1)},onTouchEnd:function(){return e.setIsTurningRight(!1)}})]}),Object(b.jsxs)(V,{children:["Click the arrows to navigate ",Object(b.jsx)("br",{}),"Or use W, A, S, D on your keyboard"]})]})}var Q=r.a.createContext({device:"large"});function $(e){var t=Object(i.useCallback)((function(){return window.innerWidth>768?"large":"small"}),[]),n=Object(i.useState)(t()),r=Object(s.a)(n,2),o=r[0],c=r[1];return Object(i.useEffect)((function(){function e(){c(t())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[t]),Object(b.jsx)(Q.Provider,{value:{device:o},children:e.children})}n(49);var _,ee,te=u.c.div(_||(_=Object(a.a)(["\n    background-color: black;\n    width: 100%;\n    height: 100%;\n    position: relative;\n"]))),ne=u.c.div(ee||(ee=Object(a.a)(['\n    font-family: "AuvantGothicBold", sans-serif;\n    position: absolute;\n    z-index: -99;\n'])));var ie=function(){var e=Object(i.useState)(!0),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){r(!1)}),[]),Object(b.jsxs)(te,{children:[n&&Object(b.jsx)(ne,{children:"TEXT"}),Object(b.jsx)(T,{}),Object(b.jsx)($,{children:Object(b.jsxs)(F,{children:[Object(b.jsx)(y,{}),Object(b.jsx)(q,{})]})})]})};c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(ie,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.e0f701f7.chunk.js.map