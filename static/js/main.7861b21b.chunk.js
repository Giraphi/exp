(this.webpackJsonpexp=this.webpackJsonpexp||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var i=n(4),r=n.n(i),o=n(34),c=n.n(o),s=n(9),a=n(12),u=n(13),d=n(15),f=r.a.createContext({isMovingForward:!1,isMovingBackward:!1,isTurningRight:!1,isTurningLeft:!1}),j=n(8),b=n(6);Object(d.b)({BirdControls:function(e,t){this.object=e,this.domElement=t,this.movementSpeed=1,this.lookSpeed=.005,this.panSpeed=0,this.moveForward=!1,this.moveBackward=!1,this.viewHalfX=0,this.viewHalfY=0;var n=0,i=0;this.domElement!==document&&this.domElement.setAttribute("tabindex",-1),this.setMoveForward=function(e){this.moveForward=e},this.setMoveBackward=function(e){this.moveBackward=e},this.setPanSpeed=function(e){this.panSpeed=e},this.handleResize=function(){this.domElement===document?(this.viewHalfX=window.innerWidth/2,this.viewHalfY=window.innerHeight/2):(this.viewHalfX=this.domElement.offsetWidth/2,this.viewHalfY=this.domElement.offsetHeight/2)},this.update=function(){var e=new j.Vector3;return function(t){var r=t*this.movementSpeed;(this.moveForward||this.autoForward&&!this.moveBackward)&&this.object.translateZ(-r),this.moveBackward&&this.object.translateZ(r);var o=t*this.lookSpeed;i-=this.panSpeed*o,n=Math.max(-85,Math.min(85,n));var c=j.MathUtils.degToRad(90-n),s=j.MathUtils.degToRad(i),a=this.object.position;e.setFromSphericalCoords(1,c,s).add(a),this.object.lookAt(e)}}(),this.handleResize()}});var h=function(e){var t=Object(i.useRef)(null),n=Object(d.d)().gl,r=Object(i.useContext)(f);return Object(d.c)((function(e,n){t&&t.current&&t.current.update(n)})),Object(i.useEffect)((function(){t&&t.current&&t.current.setMoveForward(r.isMovingForward)}),[r.isMovingForward]),Object(i.useEffect)((function(){t&&t.current&&t.current.setMoveBackward(r.isMovingBackward)}),[r.isMovingBackward]),Object(i.useEffect)((function(){t&&t.current&&(r.isTurningRight?t.current.setPanSpeed(500):t.current.setPanSpeed(0))}),[r.isTurningRight]),Object(i.useEffect)((function(){t&&t.current&&(r.isTurningLeft?t.current.setPanSpeed(-500):t.current.setPanSpeed(0))}),[r.isTurningLeft]),e.object&&e.object.current?Object(b.jsx)("birdControls",{args:[e.object.current,n.domElement],ref:t,movementSpeed:500,lookSpeed:.1}):Object(b.jsx)(b.Fragment,{})};function l(e){var t=Object(i.useRef)(null),n=Object(d.d)((function(e){return e.set})),r=Object(d.d)((function(e){return e.size})),o=Object(i.useRef)(null);return Object(i.useLayoutEffect)((function(){o.current&&(o.current.aspect=r.width/r.height,o.current.updateProjectionMatrix())}),[r]),Object(i.useLayoutEffect)((function(){o.current&&n({camera:o.current})}),[n,r.height,r.width]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("group",{ref:t,position:e.position,children:[Object(b.jsx)("group",{rotation:[-.3,0,0],children:Object(b.jsx)("perspectiveCamera",{ref:o})}),Object(b.jsx)("pointLight",{color:"white",intensity:1,distance:300,decay:2,castShadow:!1,position:[0,0,0]})]}),Object(b.jsx)(h,{object:t})]})}var g=n(16),v={mesh:"#ffffff",light:"#ffffff"},O={mesh:"#FF0500",light:"#FF0000"};function w(e){var t=Object(i.useState)(0),n=Object(s.a)(t,2),r=n[0],o=n[1],c=Object(i.useState)(0),a=Object(s.a)(c,2),u=a[0],d=a[1],f=Object(i.useState)(),h=Object(s.a)(f,2),l=h[0],w=h[1],m=Object(i.useState)(v),x=Object(s.a)(m,2),p=x[0],M=x[1],S=Object(i.useRef)(null),k=Object(i.useRef)(null),y=Object(i.useRef)(null),T=.8*e.height,I=Object(i.useState)(!1),C=Object(s.a)(I,2),E=C[0],F=C[1],R=Object(i.useState)(!1),B=Object(s.a)(R,2),L=B[0],A=B[1];Object(i.useEffect)((function(){document.fonts.ready.then((function(){F(!0)}))}),[]);var P=Object(i.useCallback)((function(e){null!==e&&w(e)}),[]),z=Object(i.useMemo)((function(){var t=new g.a;return t.copy(e.position),t.add(new g.a(0,30,0)),t}),[e.position]),D=Object(i.useMemo)((function(){return new g.a(.15*r,.15*u,0)}),[u,r]),H=Object(i.useMemo)((function(){if(l){var t=(new j.Box3).setFromObject(l),n=t.max.y-t.min.y;return new g.a(0,-n/2+e.height-5,11)}}),[e.height,l]),U=Object(i.useMemo)((function(){if(E){var t=document.createElement("canvas").getContext("2d");if(!t)throw new Error("Could not create ctx");var n="".concat(100,"px AuvantGothicBold, monospace");t.font=n;var i=t.measureText(e.text).width+4;t.canvas.width=i,t.canvas.height=104,t.font=n,t.textBaseline="top",t.fillStyle="black",t.fillText(e.text,2,2),o(t.canvas.width),d(t.canvas.height);var r=new j.CanvasTexture(t.canvas);return r.minFilter=j.LinearFilter,r}}),[e.text,E]);return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("pointLight",{ref:k,color:p.light,intensity:20,distance:60,decay:4,position:z,castShadow:!0,children:Object(b.jsx)("pointLight",{ref:S,color:p.light,intensity:1.2,distance:350,decay:3,position:[0,T-30,0],castShadow:!0,children:Object(b.jsxs)("group",{ref:y,position:[0,-T-10,0],children:[Object(b.jsxs)("mesh",{scale:[20,e.height,20],position:[0,e.height/2,0],onPointerOver:function(){M(O),document.body.style.cursor="pointer"},onClick:function(){M(O),A((function(e){return!e})),e.onClick()},onPointerOut:function(){document.body.style.cursor="",L||M(v)},children:[Object(b.jsx)("meshStandardMaterial",{emissive:new j.Color(p.mesh),emissiveIntensity:1,color:"#000000"}),Object(b.jsx)("boxBufferGeometry",{args:[1,1,1]})]}),U&&Object(b.jsxs)("mesh",{position:H,ref:P,scale:D,rotation:[0,0,-Math.PI/2],children:[Object(b.jsx)("meshBasicMaterial",{map:U,side:j.DoubleSide,transparent:!0}),Object(b.jsx)("planeGeometry",{args:[1,1]})]})]})})})})}var m,x=n(11);function p(e){var t=function(e){var t=Object(i.useRef)(e);return Object(i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.999;function i(){var e=1e4*Math.sin(t.current);return t.current++,e-Math.floor(e)}var r=i();return Math.round(100*(r*(n-e)+e))/100}),[t])}(4),n=Object(i.useRef)(null),r=Object(i.useRef)(Object(x.a)(Array(e.numCuboids-1)).map((function(e,t){return t})));return Object(i.useEffect)((function(){e.lift&&setInterval((function(){r.current.shift()}),20)}),[e.lift]),Object(i.useLayoutEffect)((function(){if(n.current)for(var i=new j.Matrix4,r=0;r<e.numCuboids;r++){var o=160*t()+100,c=t()*e.worldSize-e.worldSize/2,s=t()*e.worldSize-e.worldSize/2;Math.abs(c)<=150&&s>-50&&(o*=.8),i.makeScale(1,o,1),i.setPosition(c,0,s),n.current.setMatrixAt(r,i)}}),[e.numCuboids,e.worldSize,t]),Object(d.c)((function(t){var i=t.clock;if(e.lift&&n.current){for(var o=1*i.elapsedTime,c=Object(x.a)(r.current),s=0;s<=e.numCuboids;s++)if(-1===c.indexOf(s)){var a=new j.Matrix4;n.current.getMatrixAt(s,a);var u=(new g.a).setFromMatrixPosition(a);u.add(new g.a(0,o,0)),a.setPosition(u),n.current.setMatrixAt(s,a)}n.current.instanceMatrix.needsUpdate=!0}})),Object(b.jsxs)("instancedMesh",{args:[null,null,e.numCuboids],ref:n,castShadow:!0,receiveShadow:!0,children:[Object(b.jsx)("meshStandardMaterial",{attach:"material",color:"white"}),Object(b.jsx)("boxBufferGeometry",{attach:"geometry",args:[20,1,20]})]})}function M(e){var t=Object(i.useState)(!1),n=Object(s.a)(t,2),r=n[0],o=n[1],c=Object(i.useMemo)((function(){return[new g.a(0,0,100),new g.a(115,0,-105),new g.a(-100,0,35)]}),[]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("ambientLight",{color:"white",intensity:.001}),Object(b.jsx)(p,{numCuboids:e.numCuboids,worldSize:e.size,lift:r}),Object(b.jsx)(w,{onClick:function(){return o(!0)},position:c[2],text:"THIRD",height:175}),Object(b.jsx)(w,{onClick:function(){return o(!0)},position:c[0],text:"FIRST",height:160}),Object(b.jsx)(w,{onClick:function(){return o(!0)},position:c[1],text:"SECOND",height:185}),Object(b.jsxs)("mesh",{position:[0,0,0],rotation:[-Math.PI/2,0,0],receiveShadow:!0,children:[Object(b.jsx)("planeBufferGeometry",{attach:"geometry",args:[e.size,e.size]}),Object(b.jsx)("meshStandardMaterial",{attach:"material",color:"white",flatShading:!0})]})]})}function S(){var e=Object(d.d)().gl;return Object(i.useEffect)((function(){e.shadowMap.enabled=!0,e.shadowMap.type=j.PCFSoftShadowMap,e.setPixelRatio(window.devicePixelRatio)}),[e]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(l,{position:[0,200,700]}),Object(b.jsx)(M,{numCuboids:170,size:1e3})]})}var k,y=Object(u.c)(d.a)(m||(m=Object(a.a)(["\n    canvas:focus {\n        outline: none;\n    }\n"])));function T(){var e=Object(i.useContext)(f);return Object(b.jsx)(y,{children:Object(b.jsx)(f.Provider,{value:e,children:Object(b.jsx)(S,{})})})}var I=Object(u.a)(k||(k=Object(a.a)(["\n    html,\n    body,\n    #root {\n      width: 100%;\n      height: 100%;\n      margin: 0;\n      padding: 0;\n    }\n\n    html {\n      box-sizing: border-box;\n    }\n    *, *:before, *:after {\n      box-sizing: inherit;\n    }\n"]))),C=r.a.createContext({setIsMovingForward:function(){},setIsMovingBackward:function(){},setIsTurningLeft:function(){},setIsTurningRight:function(){}});function E(e){var t=Object(i.useState)(!1),n=Object(s.a)(t,2),r=n[0],o=n[1],c=Object(i.useState)(!1),a=Object(s.a)(c,2),u=a[0],d=a[1],j=Object(i.useState)(!1),h=Object(s.a)(j,2),l=h[0],g=h[1],v=Object(i.useState)(!1),O=Object(s.a)(v,2),w=O[0],m=O[1],x=Object(i.useMemo)((function(){return{setIsMovingForward:o,setIsMovingBackward:d,setIsTurningLeft:g,setIsTurningRight:m}}),[]);return Object(b.jsx)(f.Provider,{value:{isMovingForward:r,isMovingBackward:u,isTurningLeft:l,isTurningRight:w},children:Object(b.jsx)(C.Provider,{value:x,children:e.children})})}var F,R,B,L,A,P,z,D,H,U=n.p+"static/media/arrow-white.fb6e3d97.svg",K=n.p+"static/media/arrow-white-pressed.acc87111.svg",G="50px",W=function(e){return Object(u.b)(F||(F=Object(a.a)(["\n    background-size: cover;\n    background-position: center;\n    background-repeat: no-repeat;\n    cursor: pointer;\n\n    background-image: url(",");\n    ","\n\n"])),U,e&&Object(u.b)(R||(R=Object(a.a)(["\n        background-image: url(",");\n    "])),K))},X=u.c.div(B||(B=Object(a.a)(["\n    grid-row: 1;\n    grid-column: 2;\n    ",";\n\n"])),(function(e){return W(e.isActive)})),Y=u.c.div(L||(L=Object(a.a)(["\n    grid-row: 2;\n    grid-column: 1;\n    transform: rotate(-90deg);\n    ",";\n"])),(function(e){return W(e.isActive)})),J=u.c.div(A||(A=Object(a.a)(["\n    grid-row: 2;\n    grid-column: 3;\n    transform: rotate(90deg);\n    ",";\n"])),(function(e){return W(e.isActive)})),Z=u.c.div(P||(P=Object(a.a)(["\n    grid-row: 3;\n    grid-column: 2;\n    transform: rotate(180deg);\n    ",";\n"])),(function(e){return W(e.isActive)})),N=u.c.div(z||(z=Object(a.a)(["\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    position: absolute;\n    flex-direction: column;\n\n    bottom: 0;\n    padding-bottom: calc("," / 2);\n    padding-right: calc("," / 2);\n    align-items: flex-end;\n\n\n    @media (min-width: 768px) {\n        align-items: center;\n        bottom: 8%;\n        right: unset;\n        padding-right: 0;\n        padding-bottom: 0;\n    }\n"])),G,G),V=u.c.div(D||(D=Object(a.a)(["\n    display: grid;\n    grid-template-columns: repeat(3, ",");\n    grid-template-rows: repeat(3, ",");\n    user-select: none;\n"])),G,G),q=u.c.div(H||(H=Object(a.a)(['\n    margin-top: 20px;\n    color: white;\n    font-family: "SourceCodePro", monospace;\n    display: none;\n    text-align: center;\n\n    @media (min-width: 768px) {\n        display: block;\n    }\n'])));function Q(){var e=Object(i.useContext)(C),t=Object(i.useContext)(f);return Object(i.useEffect)((function(){function t(t){switch(t.code){case"ArrowUp":case"KeyW":e.setIsMovingForward(!0);break;case"ArrowLeft":case"KeyA":e.setIsTurningLeft(!0);break;case"ArrowDown":case"KeyS":e.setIsMovingBackward(!0);break;case"ArrowRight":case"KeyD":e.setIsTurningRight(!0)}}function n(t){switch(t.code){case"ArrowUp":case"KeyW":e.setIsMovingForward(!1);break;case"ArrowLeft":case"KeyA":e.setIsTurningLeft(!1);break;case"ArrowDown":case"KeyS":e.setIsMovingBackward(!1);break;case"ArrowRight":case"KeyD":e.setIsTurningRight(!1)}}return window.addEventListener("keydown",t),window.addEventListener("keyup",n),function(){window.removeEventListener("keydown",t),window.addEventListener("keyup",n)}}),[e]),Object(b.jsxs)(N,{children:[Object(b.jsxs)(V,{children:[Object(b.jsx)(X,{isActive:t.isMovingForward,onMouseDown:function(){return e.setIsMovingForward(!0)},onTouchStart:function(){return e.setIsMovingForward(!0)},onMouseUp:function(){return e.setIsMovingForward(!1)},onTouchEnd:function(){return e.setIsMovingForward(!1)}}),Object(b.jsx)(Z,{isActive:t.isMovingBackward,onMouseDown:function(){return e.setIsMovingBackward(!0)},onTouchStart:function(){return e.setIsMovingBackward(!0)},onMouseUp:function(){return e.setIsMovingBackward(!1)},onTouchEnd:function(){return e.setIsMovingBackward(!1)}}),Object(b.jsx)(Y,{isActive:t.isTurningLeft,onMouseDown:function(){return e.setIsTurningLeft(!0)},onTouchStart:function(){return e.setIsTurningLeft(!0)},onMouseUp:function(){return e.setIsTurningLeft(!1)},onTouchEnd:function(){return e.setIsTurningLeft(!1)}}),Object(b.jsx)(J,{isActive:t.isTurningRight,onMouseDown:function(){return e.setIsTurningRight(!0)},onTouchStart:function(){return e.setIsTurningRight(!0)},onMouseUp:function(){return e.setIsTurningRight(!1)},onTouchEnd:function(){return e.setIsTurningRight(!1)}})]}),Object(b.jsxs)(q,{children:["Click the arrows to navigate ",Object(b.jsx)("br",{}),"Or use W, A, S, D on your keyboard"]})]})}var $=r.a.createContext({device:"large"});function _(e){var t=Object(i.useCallback)((function(){return window.innerWidth>768?"large":"small"}),[]),n=Object(i.useState)(t()),r=Object(s.a)(n,2),o=r[0],c=r[1];return Object(i.useEffect)((function(){function e(){c(t())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[t]),Object(b.jsx)($.Provider,{value:{device:o},children:e.children})}n(49);var ee,te,ne=u.c.div(ee||(ee=Object(a.a)(["\n    background-color: black;\n    width: 100%;\n    height: 100%;\n    position: relative;\n"]))),ie=u.c.div(te||(te=Object(a.a)(['\n    font-family: "AuvantGothicBold", sans-serif;\n    position: absolute;\n    z-index: -99;\n'])));var re=function(){var e=Object(i.useState)(!0),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){r(!1)}),[]),Object(b.jsxs)(ne,{children:[n&&Object(b.jsx)(ie,{children:"TEXT"}),Object(b.jsx)(I,{}),Object(b.jsx)(_,{children:Object(b.jsxs)(E,{children:[Object(b.jsx)(T,{}),Object(b.jsx)(Q,{})]})})]})};c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(re,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.7861b21b.chunk.js.map